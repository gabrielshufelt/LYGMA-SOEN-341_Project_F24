<section class="instructor-dashboard-teams">
  <table class="table">
    <thead>
      <tr>
        <th>Course</th>
        <th>Members</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><%= team.course_name %></td>
        <td>
          <% if team.students.count > 0 %>
            <% team.students.each_with_index do |s, index| %>
              <%= s.first_name + ' ' + s.last_name %><%= ", " unless index == team.students.count - 1 %>
            <% end %>
          <% else %>
            No members.
          <% end %>
        </td>
        <td>
          <div class="button primary" id="show-add-member-section" data-action="click->team-members#showAddMemberSection">Edit Members</div>
        </td>
      </tr>
    </tbody>
  </table>

  <div id="add-member-section" style="display: none;">
    <input type="text" id="search-input" data-team-members-target="searchInput" data-action="input->team-members#search" placeholder="Search for members...">
    <select id="search-results" data-team-members-target="searchResults"></select>
    <button id="add-member-button" data-team-members-target="addMemberButton" data-action="team-members#addMember" disabled>Add Member</button>
  </div>

  <ul id="team-members-list" data-team-members-target="teamMembersList">
    <% team.students.each do |s| %>
      <li>
        <%= s.first_name + ' ' + s.last_name %>
        <button data-action="team-members#removeMember" data-user-id="<%= s.id %>">Remove</button>
      </li>
    <% end %>
  </ul>
</section>